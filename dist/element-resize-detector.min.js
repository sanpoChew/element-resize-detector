/*!
 * element-resize-detector 1.1.14
 * Copyright (c) 2016 Lucas Wiener
 * https://github.com/wnr/element-resize-detector
 * Licensed under MIT
 */

!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.elementResizeDetectorMaker=a()}}(function(){return function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";function d(){function a(a,b){b||(b=a,a=0),a>f?f=a:a<g&&(g=a),d[a]||(d[a]=[]),d[a].push(b),e++}function b(){for(var a=g;a<=f;a++)for(var b=d[a],c=0;c<b.length;c++){var e=b[c];e()}}function c(){return e}var d={},e=0,f=0,g=0;return{add:a,process:b,size:c}}var e=a("./utils");b.exports=function(a){function b(a,b){!o&&l&&k&&0===n.size()&&g(),n.add(a,b)}function c(){for(o=!0;n.size();){var a=n;n=d(),a.process()}o=!1}function f(a){o||(void 0===a&&(a=k),m&&(h(m),m=null),a?g():c())}function g(){m=i(c)}function h(a){return clearTimeout(a)}function i(a){return function(a){return setTimeout(a,0)}(a)}a=a||{};var j=a.reporter,k=e.getOption(a,"async",!0),l=e.getOption(a,"auto",!0);l&&!k&&(j&&j.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),k=!0);var m,n=d(),o=!1;return{add:b,force:f}}},{"./utils":2}],2:[function(a,b,c){"use strict";function d(a,b,c){var d=a[b];return void 0!==d&&null!==d||void 0===c?d:c}(b.exports={}).getOption=d},{}],3:[function(a,b,c){"use strict";var d=b.exports={};d.isIE=function(a){return!!function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")||-1!==a.indexOf("trident")||-1!==a.indexOf(" edge/")}()&&(!a||a===function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");do{b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e"}while(c[0]);return a>4?a:void 0}())},d.isLegacyOpera=function(){return!!window.opera}},{}],4:[function(a,b,c){"use strict";(b.exports={}).forEach=function(a,b){for(var c=0;c<a.length;c++){var d=b(a[c]);if(d)return d}}},{}],5:[function(a,b,c){"use strict";var d=a("../browser-detector");b.exports=function(a){function b(a,b){function c(){b(a)}if(!e(a))throw new Error("Element is not detectable by this strategy.");if(d.isIE(8))i(a).object={proxy:c},a.attachEvent("onresize",c);else{e(a).contentDocument.defaultView.addEventListener("resize",c)}}function c(a,b,c){c||(c=b,b=a,a=null),a=a||{};a.debug;d.isIE(8)?c(b):function(a,b){function c(){function c(){if("static"===j.position){a.style.position="relative";var b=function(a,b,c,d){var e=c[d];"auto"!==e&&"0"!==function(a){return a.replace(/[^-\d\.]/g,"")}(e)&&(a.warn("An element that is positioned static has style."+d+"="+e+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+d+" will be set to 0. Element: ",b),b.style[d]=0)};b(g,a,j,"top"),b(g,a,j,"right"),b(g,a,j,"bottom"),b(g,a,j,"left")}}function h(){function d(a,b){if(!a.contentDocument)return void setTimeout(function(){d(a,b)},100);b(a.contentDocument)}f||c(),d(this,function(c){b(a)})}""!==j.position&&(c(j),f=!0);var k=document.createElement("object");k.style.cssText=e,k.tabIndex=-1,k.type="text/html",k.onload=h,d.isIE()||(k.data="about:blank"),a.appendChild(k),i(a).object=k,d.isIE()&&(k.data="about:blank")}var e="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",f=!1,j=window.getComputedStyle(a),k=a.offsetWidth,l=a.offsetHeight;i(a).startSize={width:k,height:l},h?h.add(c):c()}(b,c)}function e(a){return i(a).object}function f(a){d.isIE(8)?a.detachEvent("onresize",i(a).object.proxy):a.removeChild(e(a)),delete i(a).object}a=a||{};var g=a.reporter,h=a.batchProcessor,i=a.stateHandler.getState;if(!g)throw new Error("Missing required dependency: reporter.");return{makeDetectable:c,addListener:b,uninstall:f}}},{"../browser-detector":3}],6:[function(a,b,c){"use strict";var d=a("../collection-utils").forEach;b.exports=function(a){function b(b){var c=a.important?" !important; ":"; ";return(b.join(c)+c).trim()}function c(a){a.className+=" "+q+"_animation_active"}function e(a,b,c){if(a.addEventListener)a.addEventListener(b,c);else{if(!a.attachEvent)return l.error("[scroll] Don't know how to add event listeners.");a.attachEvent("on"+b,c)}}function f(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c);else{if(!a.detachEvent)return l.error("[scroll] Don't know how to remove event listeners.");a.detachEvent("on"+b,c)}}function g(a){return n(a).container.childNodes[0].childNodes[0].childNodes[0]}function h(a){return n(a).container.childNodes[0].childNodes[0].childNodes[1]}function i(a,b){if(!n(a).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");n(a).listeners.push(b)}function j(a,f,i){function j(){if(a.debug){var b=Array.prototype.slice.call(arguments);if(b.unshift(o.get(f),"Scroll: "),l.log.apply)l.log.apply(null,b);else for(var c=0;c<b.length;c++)l.log(b[c])}}function k(a){var b=n(a).container.childNodes[0],c=window.getComputedStyle(b);return!c.width||-1===c.width.indexOf("px")}function r(){var a=window.getComputedStyle(f),b={};return b.position=a.position,b.width=f.offsetWidth,b.height=f.offsetHeight,b.top=a.top,b.right=a.right,b.bottom=a.bottom,b.left=a.left,b.widthCSS=a.width,b.heightCSS=a.height,b}function s(){var a=r();n(f).startSize={width:a.width,height:a.height},j("Element start size",n(f).startSize)}function t(){n(f).listeners=[]}function u(){if(j("storeStyle invoked."),!n(f))return void j("Aborting because element has been uninstalled");var a=r();n(f).style=a}function v(a,b,c){n(a).lastWidth=b,n(a).lastHeight=c}function w(a){return g(a).childNodes[0]}function x(){return 2*p.width+1}function y(){return 2*p.height+1}function z(a){return a+10+x()}function A(a){return a+10+y()}function B(a){return 2*a+x()}function C(a){return 2*a+y()}function D(a,b,c){var d=g(a),e=h(a),f=z(b),i=A(c),j=B(b),k=C(c);d.scrollLeft=f,d.scrollTop=i,e.scrollLeft=j,e.scrollTop=k}function E(){var a=n(f).container;if(!a){a=document.createElement("div"),a.className=q,a.style.cssText=b(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),n(f).container=a,c(a),f.appendChild(a);var d=function(){n(f).onRendered&&n(f).onRendered()};e(a,"animationstart",d),n(f).onAnimationStart=d}return a}function F(){function c(){n(f).onExpand&&n(f).onExpand()}function d(){n(f).onShrink&&n(f).onShrink()}if(j("Injecting elements"),!n(f))return void j("Aborting because element has been uninstalled");!function(){var b=n(f).style;if("static"===b.position){f.style.setProperty("position","relative",a.important?"important":"");var c=function(a,b,c,d){var e=c[d];"auto"!==e&&"0"!==function(a){return a.replace(/[^-\d\.]/g,"")}(e)&&(a.warn("An element that is positioned static has style."+d+"="+e+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+d+" will be set to 0. Element: ",b),b.style[d]=0)};c(l,f,b,"top"),c(l,f,b,"right"),c(l,f,b,"bottom"),c(l,f,b,"left")}}();var g=n(f).container;g||(g=E());var h=p.width,i=p.height,k=b(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=b(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function(a,c,d,e){return a=a?a+"px":"0",c=c?c+"px":"0",d=d?d+"px":"0",e=e?e+"px":"0",b(["left"+a,"top: "+c,"right: "+e,"bottom: "+d])}(-(1+h),-(1+i),-i,-h))),o=b(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),r=b(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),s=b(["position: absolute","left: 0","top: 0"]),t=b(["position: absolute","width: 200%","height: 200%"]),u=document.createElement("div"),v=document.createElement("div"),w=document.createElement("div"),x=document.createElement("div"),y=document.createElement("div"),z=document.createElement("div");u.dir="ltr",u.style.cssText=k,u.className=q,v.className=q,v.style.cssText=m,w.style.cssText=o,x.style.cssText=s,y.style.cssText=r,z.style.cssText=t,w.appendChild(x),y.appendChild(z),v.appendChild(w),v.appendChild(y),u.appendChild(v),g.appendChild(u),e(w,"scroll",c),e(y,"scroll",d),n(f).onExpandScroll=c,n(f).onShrinkScroll=d}function G(){function b(b,c,d){var e=w(b),f=z(c),g=A(d);e.style.setProperty("width",f+"px",a.important?"important":""),e.style.setProperty("height",g+"px",a.important?"important":"")}function c(c){var d=f.offsetWidth,g=f.offsetHeight;j("Storing current size",d,g),v(f,d,g),m.add(0,function(){if(!n(f))return void j("Aborting because element has been uninstalled");if(!e())return void j("Aborting because element container has not been initialized");if(a.debug){var c=f.offsetWidth,h=f.offsetHeight;c===d&&h===g||l.warn(o.get(f),"Scroll: Size changed before updating detector elements.")}b(f,d,g)}),m.add(1,function(){return n(f)?e()?void D(f,d,g):void j("Aborting because element container has not been initialized"):void j("Aborting because element has been uninstalled")}),c&&m.add(2,function(){return n(f)?e()?void c():void j("Aborting because element container has not been initialized"):void j("Aborting because element has been uninstalled")})}function e(){return!!n(f).container}function i(){j("notifyListenersIfNeeded invoked");var a=n(f);return function(){return void 0===n(f).lastNotifiedWidth}()&&a.lastWidth===a.startSize.width&&a.lastHeight===a.startSize.height?j("Not notifying: Size is the same as the start size, and there has been no notification yet."):a.lastWidth===a.lastNotifiedWidth&&a.lastHeight===a.lastNotifiedHeight?j("Not notifying: Size already notified"):(j("Current size not notified, notifying..."),a.lastNotifiedWidth=a.lastWidth,a.lastNotifiedHeight=a.lastHeight,void d(n(f).listeners,function(a){a(f)}))}function p(){if(j("startanimation triggered."),k(f))return void j("Ignoring since element is still unrendered...");j("Element rendered.");var a=g(f),b=h(f);0!==a.scrollLeft&&0!==a.scrollTop&&0!==b.scrollLeft&&0!==b.scrollTop||(j("Scrollbars out of sync. Updating detector elements..."),c(i))}function q(){if(j("Scroll detected."),k(f))return void j("Scroll event fired while unrendered. Ignoring...");var a=f.offsetWidth,b=f.offsetHeight;a!==n(f).lastWidth||b!==n(f).lastHeight?(j("Element size changed."),c(i)):j("Element size has not changed ("+a+"x"+b+").")}if(j("registerListenersAndPositionElements invoked."),!n(f))return void j("Aborting because element has been uninstalled");n(f).onRendered=p,n(f).onExpand=q,n(f).onShrink=q;var r=n(f).style;b(f,r.width,r.height)}function H(){if(j("finalizeDomMutation invoked."),!n(f))return void j("Aborting because element has been uninstalled");var a=n(f).style;v(f,a.width,a.height),D(f,a.width,a.height)}function I(){i(f)}function J(){j("Installing..."),t(),s(),m.add(0,u),m.add(1,F),m.add(2,G),m.add(3,H),m.add(4,I)}i||(i=f,f=a,a=null),a=a||{},j("Making detectable..."),!function(a){return!function(a){return a===a.ownerDocument.body||a.ownerDocument.body.contains(a)}(a)||null===window.getComputedStyle(a)}(f)?J():(j("Element is detached"),E(),j("Waiting until element is attached..."),n(f).onRendered=function(){j("Element is now attached"),J()})}function k(a){var b=n(a);b&&(b.onExpandScroll&&f(g(a),"scroll",b.onExpandScroll),b.onShrinkScroll&&f(h(a),"scroll",b.onShrinkScroll),b.onAnimationStart&&f(b.container,"animationstart",b.onAnimationStart),b.container&&a.removeChild(b.container))}a=a||{};var l=a.reporter,m=a.batchProcessor,n=a.stateHandler.getState,o=(a.stateHandler.hasState,a.idHandler);if(!m)throw new Error("Missing required dependency: batchProcessor");if(!l)throw new Error("Missing required dependency: reporter.");var p=function(){var a=document.createElement("div");a.style.cssText=b(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var c=document.createElement("div");c.style.cssText=b(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),c.appendChild(a),document.body.insertBefore(c,document.body.firstChild);var d=500-c.clientWidth,e=500-c.clientHeight;return document.body.removeChild(c),{width:d,height:e}}(),q="erd_scroll_detection_container";return function(a,c){if(!document.getElementById(a)){var d=c+"_animation",e=c+"_animation_active",f="/* Created by the element-resize-detector library. */\n";f+="."+c+" > div::-webkit-scrollbar { "+b(["display: none"])+" }\n\n",f+="."+e+" { "+b(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+d,"animation-name: "+d])+" }\n",f+="@-webkit-keyframes "+d+" { 0% { "+b(["opacity: 1"])+" } 50% { "+b(["opacity: 0"])+" } 100% { "+b(["opacity: 1"])+" } }\n",f+="@keyframes "+d+" { 0% { "+b(["opacity: 1"])+" } 50% { "+b(["opacity: 0"])+" } 100% { "+b(["opacity: 1"])+" } }",function(b,c){c=c||function(a){document.head.appendChild(a)};var d=document.createElement("style");d.innerHTML=b,d.id=a,c(d)}(f)}}("erd_scroll_detection_scrollbar_style",q),{makeDetectable:j,addListener:i,uninstall:k}}},{"../collection-utils":4}],7:[function(a,b,c){"use strict";function d(a){return Array.isArray(a)||void 0!==a.length}function e(a){if(Array.isArray(a))return a;var b=[];return h(a,function(a){b.push(a)}),b}function f(a){return a&&1===a.nodeType}function g(a,b,c){var d=a[b];return void 0!==d&&null!==d||void 0===c?d:c}var h=a("./collection-utils").forEach,i=a("./element-utils"),j=a("./listener-handler"),k=a("./id-generator"),l=a("./id-handler"),m=a("./reporter"),n=a("./browser-detector"),o=a("batch-processor"),p=a("./state-handler"),q=a("./detection-strategy/object.js"),r=a("./detection-strategy/scroll.js");b.exports=function(a){function b(a,b,c){function i(a){var b=z.get(a);h(b,function(b){b(a)})}function j(a,b,c){z.add(b,c),a&&c(b)}if(c||(c=b,b=a,a={}),!b)throw new Error("At least one element required.");if(!c)throw new Error("Listener required.");if(f(b))b=[b];else{if(!d(b))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");b=e(b)}var k=0,l=g(a,"callOnAdd",x.callOnAdd),m=g(a,"onReady",function(){}),n=g(a,"debug",x.debug);h(b,function(a){p.getState(a)||(p.initState(a),s.set(a));var d=s.get(a);if(n&&v.log("Attaching listener to element",d,a),!A.isDetectable(a))return n&&v.log(d,"Not detectable."),A.isBusy(a)?(n&&v.log(d,"System busy making it detectable"),j(l,a,c),E[d]=E[d]||[],void E[d].push(function(){++k===b.length&&m()})):(n&&v.log(d,"Making detectable..."),A.markBusy(a,!0),y.makeDetectable({debug:n},a,function(a){if(n&&v.log(d,"onElementDetectable"),p.getState(a)){A.markAsDetectable(a),A.markBusy(a,!1),y.addListener(a,i),j(l,a,c);var e=p.getState(a);if(e&&e.startSize){var f=a.offsetWidth,g=a.offsetHeight;e.startSize.width===f&&e.startSize.height===g||i(a)}E[d]&&h(E[d],function(a){a()})}else n&&v.log(d,"Element uninstalled before being detectable.");delete E[d],++k===b.length&&m()}));n&&v.log(d,"Already detecable, adding listener."),j(l,a,c),k++}),k===b.length&&m()}function c(a){if(!a)return v.error("At least one element is required.");if(f(a))a=[a];else{if(!d(a))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a=e(a)}h(a,function(a){z.removeAllListeners(a),y.uninstall(a),p.cleanState(a)})}a=a||{};var s;if(a.idHandler)s={get:function(b){return a.idHandler.get(b,!0)},set:a.idHandler.set};else{var t=k(),u=l({idGenerator:t,stateHandler:p});s=u}var v=a.reporter;if(!v){v=m(!1===v)}var w=g(a,"batchProcessor",o({reporter:v})),x={};x.callOnAdd=!!g(a,"callOnAdd",!0),x.debug=!!g(a,"debug",!1);var y,z=j(s),A=i({stateHandler:p}),B=g(a,"strategy","object"),C=g(a,"important",!1),D={reporter:v,batchProcessor:w,stateHandler:p,idHandler:s,important:C};if("scroll"===B&&(n.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),B="object"):n.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),B="object")),"scroll"===B)y=r(D);else{if("object"!==B)throw new Error("Invalid strategy name: "+B);y=q(D)}var E={};return{listenTo:b,removeListener:z.removeListener,removeAllListeners:z.removeAllListeners,uninstall:c}}},{"./browser-detector":3,"./collection-utils":4,"./detection-strategy/object.js":5,"./detection-strategy/scroll.js":6,"./element-utils":8,"./id-generator":9,"./id-handler":10,"./listener-handler":11,"./reporter":12,"./state-handler":13,"batch-processor":1}],8:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=f(a);return b&&!!b.isDetectable}function c(a){f(a).isDetectable=!0}function d(a){return!!f(a).busy}function e(a,b){f(a).busy=!!b}var f=a.stateHandler.getState;return{isDetectable:b,markAsDetectable:c,isBusy:d,markBusy:e}}},{}],9:[function(a,b,c){"use strict";b.exports=function(){function a(){return b++}var b=1;return{generate:a}}},{}],10:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=e(a);return b&&void 0!==b.id?b.id:null}function c(a){var b=e(a);if(!b)throw new Error("setId required the element to have a resize detection state.");var c=d.generate();return b.id=c,c}var d=a.idGenerator,e=a.stateHandler.getState;return{get:b,set:c}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a){function b(b){var c=a.get(b);return void 0===c?[]:f[c]||[]}function c(b,c){var d=a.get(b);f[d]||(f[d]=[]),f[d].push(c)}function d(a,c){for(var d=b(a),e=0,f=d.length;e<f;++e)if(d[e]===c){d.splice(e,1);break}}function e(a){var c=b(a);c&&(c.length=0)}var f={};return{get:b,add:c,removeListener:d,removeAllListeners:e}}},{}],12:[function(a,b,c){"use strict";b.exports=function(a){function b(){}var c={log:b,warn:b,error:b};if(!a&&window.console){var d=function(a,b){a[b]=function(){var a=console[b];if(a.apply)a.apply(console,arguments);else for(var c=0;c<arguments.length;c++)a(arguments[c])}};d(c,"log"),d(c,"warn"),d(c,"error")}return c}},{}],13:[function(a,b,c){"use strict";function d(a){return a[g]={},e(a)}function e(a){return a[g]}function f(a){delete a[g]}var g="_erd";b.exports={initState:d,getState:e,cleanState:f}},{}]},{},[7])(7)});